<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - GestureQuiz</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-600: #0284c7;
            --primary-700: #0369a1;
            --primary-50: #f0f9ff;
            --primary-100: #e0f2fe;
            --accent-100: #e0e7ff;
            --accent-500: #8b5cf6;
            --accent-600: #7c3aed;
            --accent-50: #f5f3ff;
            --success-500: #22c55e;
            --success-600: #16a34a;
            --success-50: #f0fdf4;
            --warning-500: #f59e0b;
            --warning-50: #fffbeb;
            --danger-500: #ef4444;
            --danger-50: #fef2f2;
            --neutral-50: #fafafa;
            --neutral-100: #f5f5f5;
            --neutral-200: #e5e5e5;
            --neutral-300: #d4d4d4;
            --neutral-400: #a3a3a3;
            --neutral-500: #737373;
            --neutral-600: #525252;
            --neutral-700: #404040;
            --neutral-800: #262626;
            --neutral-900: #171717;
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            --radius-sm: 0.25rem;
            --radius-md: 0.375rem;
            --radius-lg: 0.5rem;
            --radius-xl: 0.75rem;
            --radius-2xl: 1rem;
            --radius-3xl: 1.5rem;
            --radius-full: 9999px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --transition-base: 300ms ease;
            --transition-fast: 150ms ease;
            --glass-bg: rgba(255, 255, 255, 0.9);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary-50) 0%, var(--accent-50) 100%);
            color: var(--neutral-800);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            padding: var(--space-4) 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-600);
            text-decoration: none;
        }

        .logo i {
            font-size: 1.8rem;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-full);
            background: var(--neutral-100);
            transition: all var(--transition-base);
            cursor: pointer;
        }

        .user-profile:hover {
            background: var(--neutral-200);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: linear-gradient(135deg, var(--primary-600), var(--accent-600));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            color: white;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--neutral-900);
        }

        .user-role {
            font-size: 0.8rem;
            color: var(--neutral-500);
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
        }

        /* Welcome Section */
        .welcome-section {
            text-align: center;
            margin-bottom: var(--space-12);
        }

        .welcome-title {
            font-size: 3rem;
            font-weight: 800;
            color: var(--neutral-900);
            margin-bottom: var(--space-4);
            background: linear-gradient(135deg, var(--primary-600), var(--accent-600));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .welcome-subtitle {
            font-size: 1.25rem;
            color: var(--neutral-600);
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Stats Section */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-12);
        }

        .stat-card {
            background: white;
            padding: var(--space-8);
            border-radius: var(--radius-3xl);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--neutral-200);
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--success-500), var(--accent-500));
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-6);
        }

        .stat-icon {
            width: 64px;
            height: 64px;
            border-radius: var(--radius-2xl);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            background: linear-gradient(135deg, var(--success-500), var(--success-600));
        }

        .stat-icon.primary {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
        }

        .stat-icon.warning {
            background: linear-gradient(135deg, var(--warning-500), #f97316);
        }

        .stat-icon.accent {
            background: linear-gradient(135deg, var(--accent-500), var(--accent-600));
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--neutral-900);
            margin-bottom: var(--space-2);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--neutral-600);
            font-weight: 500;
            margin-bottom: var(--space-3);
        }

        .stat-progress {
            background: var(--neutral-200);
            height: 8px;
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: var(--space-3);
        }

        .stat-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-500), var(--success-600));
            transition: width 0.8s ease;
        }

        .stat-description {
            font-size: 0.9rem;
            color: var(--neutral-500);
        }

        /* Quizzes Section */
        .quizzes-section {
            margin-bottom: var(--space-12);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--neutral-900);
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .quiz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: var(--space-6);
        }

        .quiz-card {
            background: white;
            border-radius: var(--radius-3xl);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--neutral-200);
            overflow: hidden;
            transition: all var(--transition-base);
        }

        .quiz-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .quiz-card-header {
            padding: var(--space-6) var(--space-6) var(--space-4);
            background: linear-gradient(135deg, var(--primary-50), var(--accent-50));
        }

        .quiz-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--neutral-900);
            margin-bottom: var(--space-2);
        }

        .quiz-description {
            font-size: 0.9rem;
            color: var(--neutral-600);
            margin-bottom: var(--space-4);
        }

        .quiz-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: var(--neutral-500);
        }

        .quiz-card-body {
            padding: var(--space-6);
        }

        .quiz-actions {
            display: flex;
            gap: var(--space-3);
        }

        .btn {
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-xl);
            border: none;
            font-weight: 500;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all var(--transition-base);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            text-decoration: none;
            justify-content: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: var(--neutral-100);
            color: var(--neutral-600);
            border: 1px solid var(--neutral-300);
        }

        .btn-secondary:hover {
            background: var(--neutral-200);
            color: var(--neutral-800);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-600);
            color: var(--primary-600);
        }

        .btn-outline:hover {
            background: var(--primary-600);
            color: white;
        }

        /* Activity Section */
        .activity-section {
            background: white;
            padding: var(--space-8);
            border-radius: var(--radius-3xl);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--neutral-200);
        }

        .activity-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--neutral-900);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: var(--space-4);
            border-radius: var(--radius-xl);
            background: var(--neutral-50);
            transition: all var(--transition-base);
        }

        .activity-item:hover {
            background: var(--neutral-100);
            transform: translateX(4px);
        }

        .activity-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: var(--space-4);
        }

        .activity-icon.success {
            background: var(--success-50);
            color: var(--success-600);
        }

        .activity-icon.warning {
            background: var(--warning-50);
            color: var(--warning-500);
        }

        .activity-icon.info {
            background: var(--primary-50);
            color: var(--primary-600);
        }

        .activity-content {
            flex: 1;
        }

        .activity-text {
            font-weight: 500;
            color: var(--neutral-900);
            margin-bottom: var(--space-1);
        }

        .activity-time {
            font-size: 0.9rem;
            color: var(--neutral-500);
        }

        /* Demo Navigation */
        .demo-navigation {
            display: flex;
            justify-content: center;
            gap: var(--space-4);
            margin-top: var(--space-8);
            padding-top: var(--space-8);
            border-top: 1px solid var(--neutral-200);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                padding: 0 var(--space-4);
            }

            .main-content {
                padding: var(--space-6) var(--space-4);
            }

            .welcome-title {
                font-size: 2rem;
            }

            .stats-section {
                grid-template-columns: 1fr;
            }

            .quiz-grid {
                grid-template-columns: 1fr;
            }

            .demo-navigation {
                flex-direction: column;
                align-items: center;
            }

            .section-header {
                flex-direction: column;
                gap: var(--space-4);
                align-items: stretch;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--neutral-300);
            border-radius: 50%;
            border-top-color: var(--primary-600);
            animation: spin 0.8s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: var(--space-12);
            color: var(--neutral-500);
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: var(--space-4);
            opacity: 0.5;
        }

        .empty-state p {
            font-size: 1.1rem;
            margin-bottom: var(--space-2);
        }

        .empty-state small {
            font-size: 0.9rem;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <i class="fas fa-hand-paper"></i>
                GestureQuiz
            </a>
            <div class="header-actions">
                <div class="user-profile" onclick="toggleProfile()">
                    <div class="user-avatar" id="userAvatar">DS</div>
                    <div class="user-info">
                        <div class="user-name" id="userName">Demo Student</div>
                        <div class="user-role">Student</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="welcome-section">
            <h1 class="welcome-title" id="welcomeText">Welcome to Your Dashboard!</h1>
            <p class="welcome-subtitle">
                Track your progress, take quizzes, and improve your gesture recognition skills.
            </p>
        </div>

        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon primary">
                        <i class="fas fa-clipboard-check"></i>
                    </div>
                </div>
                <div class="stat-number" id="completedQuizzes">0</div>
                <div class="stat-label">Completed Quizzes</div>
                <div class="stat-progress">
                    <div class="stat-progress-fill" id="completedProgress" style="width: 0%"></div>
                </div>
                <div class="stat-description">Keep learning and growing!</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon success">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
                <div class="stat-number" id="averageScore">0%</div>
                <div class="stat-label">Average Score</div>
                <div class="stat-progress">
                    <div class="stat-progress-fill" id="scoreProgress" style="width: 0%"></div>
                </div>
                <div class="stat-description">Aim for excellence!</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon warning">
                        <i class="fas fa-fire"></i>
                    </div>
                </div>
                <div class="stat-number" id="currentStreak">0</div>
                <div class="stat-label">Day Streak</div>
                <div class="stat-progress">
                    <div class="stat-progress-fill" id="streakProgress" style="width: 0%"></div>
                </div>
                <div class="stat-description">Build your learning habit!</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon accent">
                        <i class="fas fa-trophy"></i>
                    </div>
                </div>
                <div class="stat-number" id="totalPoints">0</div>
                <div class="stat-label">Total Points</div>
                <div class="stat-progress">
                    <div class="stat-progress-fill" id="pointsProgress" style="width: 0%"></div>
                </div>
                <div class="stat-description">Earn more by practicing!</div>
            </div>
        </div>

        <div class="quizzes-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-play-circle"></i>
                    Available Quizzes
                </h2>
                <button class="btn btn-outline" onclick="refreshQuizzes()">
                    <i class="fas fa-sync"></i>
                    Refresh
                </button>
            </div>
            <div class="quiz-grid" id="quizGrid">
                <!-- Dynamic quiz cards will be inserted here -->
            </div>
        </div>

        <div class="activity-section">
            <h3 class="activity-title">
                <i class="fas fa-history"></i>
                Recent Activity
            </h3>
            <div class="activity-list" id="activityList">
                <!-- Dynamic activity items will be inserted here -->
            </div>
        </div>

        <div class="demo-navigation">
            <button class="btn btn-outline" onclick="switchToTeacher()">
                <i class="fas fa-chalkboard-teacher"></i>
                Switch to Teacher View
            </button>
            
            <button class="btn btn-secondary" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                Logout
            </button>
        </div>
    </main>

    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Student dashboard initializing...');
            
            // Set up demo data first
            setupDemoData();
            
            // Initialize user interface
            initializeUser();
            
            // Load dashboard data
            loadStudentStats();
            loadAvailableQuizzes();
            loadRecentActivity();
            
            // Set up auto-refresh
            setInterval(function() {
                loadStudentStats();
                loadAvailableQuizzes();
                loadRecentActivity();
            }, 60000); // Refresh every minute
        });

        function setupDemoData() {
            // Create demo user if none exists
            if (!localStorage.getItem('currentUser')) {
                const demoUser = {
                    email: 'student@demo.com',
                    name: 'Demo Student',
                    role: 'student'
                };
                localStorage.setItem('currentUser', JSON.stringify(demoUser));
            }

            // Create demo quizzes if none exist
            if (!localStorage.getItem('gestureQuizzes')) {
                const demoQuizzes = [
                    {
                        id: 'demo_quiz_1',
                        title: 'Basic Hand Gestures',
                        description: 'Learn fundamental hand gestures and their meanings',
                        status: 'published',
                        difficulty: 'Easy',
                        questions: [
                            { question: 'What does a thumbs up mean?', options: ['Good', 'Bad', 'Maybe', 'Stop'], correct: 0 },
                            { question: 'How do you signal peace?', options: ['Fist', 'Peace sign', 'Wave', 'Point'], correct: 1 }
                        ],
                        createdBy: 'teacher@demo.com',
                        createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()
                    },
                    {
                        id: 'demo_quiz_2',
                        title: 'Advanced Communication',
                        description: 'Master complex gesture communication techniques',
                        status: 'published',
                        difficulty: 'Medium',
                        questions: [
                            { question: 'What gesture means "OK"?', options: ['Thumbs up', 'OK sign', 'Clap', 'Wave'], correct: 1 },
                            { question: 'How do you show "stop"?', options: ['Point', 'Wave', 'Open palm', 'Fist'], correct: 2 }
                        ],
                        createdBy: 'teacher@demo.com',
                        createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString()
                    },
                    {
                        id: 'demo_quiz_3',
                        title: 'Cultural Gestures',
                        description: 'Understanding gestures across different cultures',
                        status: 'published',
                        difficulty: 'Hard',
                        questions: [
                            { question: 'Which gesture has different meanings in different cultures?', options: ['Thumbs up', 'OK sign', 'Peace sign', 'All of the above'], correct: 3 }
                        ],
                        createdBy: 'teacher@demo.com',
                        createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
                    }
                ];
                localStorage.setItem('gestureQuizzes', JSON.stringify(demoQuizzes));
            }

            // Create demo results if none exist
            if (!localStorage.getItem('quizResults')) {
                const demoResults = [
                    {
                        id: 'result_1',
                        quizId: 'demo_quiz_1',
                        studentEmail: 'student@demo.com',
                        score: 85,
                        completedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
                        timeSpent: 120
                    },
                    {
                        id: 'result_2',
                        quizId: 'demo_quiz_2',
                        studentEmail: 'student@demo.com',
                        score: 92,
                        completedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
                        timeSpent: 180
                    }
                ];
                localStorage.setItem('quizResults', JSON.stringify(demoResults));
            }
        }

        function initializeUser() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            
            if (currentUser.name) {
                document.getElementById('welcomeText').textContent = `Welcome back, ${currentUser.name}!`;
                document.getElementById('userName').textContent = currentUser.name;
                
                // Update user avatar with initials
                const initials = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
                document.getElementById('userAvatar').textContent = initials;
            }
        }

        function loadStudentStats() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            
            // Filter results for current student
            const studentResults = results.filter(r => r.studentEmail === currentUser.email);
            
            // Calculate stats
            const completedQuizzes = studentResults.length;
            const averageScore = studentResults.length > 0 
                ? Math.round(studentResults.reduce((sum, r) => sum + r.score, 0) / studentResults.length)
                : 0;
            
            // Calculate streak (simplified - consecutive days with quiz activity)
            const currentStreak = calculateStreak(studentResults);
            
            // Calculate total points (score * 10)
            const totalPoints = studentResults.reduce((sum, r) => sum + (r.score * 10), 0);
            
            // Update UI with animation
            animateCounter('completedQuizzes', completedQuizzes);
            animateCounter('averageScore', averageScore, '%');
            animateCounter('currentStreak', currentStreak);
            animateCounter('totalPoints', totalPoints);
            
            // Update progress bars
            document.getElementById('completedProgress').style.width = Math.min(completedQuizzes * 10, 100) + '%';
            document.getElementById('scoreProgress').style.width = averageScore + '%';
            document.getElementById('streakProgress').style.width = Math.min(currentStreak * 10, 100) + '%';
            document.getElementById('pointsProgress').style.width = Math.min(totalPoints / 100, 100) + '%';
        }

        function calculateStreak(results) {
            if (results.length === 0) return 0;
            
            const today = new Date();
            const sortedResults = results.sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt));
            
            let streak = 0;
            let currentDate = new Date(today);
            
            for (let result of sortedResults) {
                const resultDate = new Date(result.completedAt);
                const daysDiff = Math.floor((currentDate - resultDate) / (1000 * 60 * 60 * 24));
                
                if (daysDiff <= 1) {
                    streak++;
                    currentDate = resultDate;
                } else {
                    break;
                }
            }
            
            return streak;
        }

        function animateCounter(elementId, targetValue, suffix = '') {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const currentValue = parseInt(element.textContent.replace(/[^0-9]/g, '')) || 0;
            const increment = Math.ceil(Math.abs(targetValue - currentValue) / 20);
            
            if (currentValue === targetValue) return;
            
            const timer = setInterval(() => {
                let newValue;
                if (currentValue < targetValue) {
                    newValue = Math.min(currentValue + increment, targetValue);
                } else {
                    newValue = Math.max(currentValue - increment, targetValue);
                }
                
                element.textContent = newValue + suffix;
                
                if (newValue === targetValue) {
                    clearInterval(timer);
                }
            }, 50);
        }

        function loadAvailableQuizzes() {
            const quizzes = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]');
            const publishedQuizzes = quizzes.filter(q => q.status === 'published');
            
            const quizGrid = document.getElementById('quizGrid');
            quizGrid.innerHTML = '';
            
            if (publishedQuizzes.length === 0) {
                quizGrid.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-clipboard-list"></i>
                        <p>No quizzes available yet!</p>
                        <small>Check back later for new quizzes to practice.</small>
                    </div>
                `;
                return;
            }
            
            publishedQuizzes.forEach(quiz => {
                const quizCard = document.createElement('div');
                quizCard.className = 'quiz-card';
                
                const difficultyColor = {
                    'Easy': 'var(--success-500)',
                    'Medium': 'var(--warning-500)',
                    'Hard': 'var(--danger-500)'
                }[quiz.difficulty] || 'var(--primary-500)';
                
                quizCard.innerHTML = `
                    <div class="quiz-card-header">
                        <h3 class="quiz-title">${quiz.title}</h3>
                        <p class="quiz-description">${quiz.description}</p>
                        <div class="quiz-meta">
                            <span><i class="fas fa-question-circle"></i> ${quiz.questions?.length || 0} questions</span>
                            <span style="color: ${difficultyColor};">
                                <i class="fas fa-signal"></i> ${quiz.difficulty || 'Easy'}
                            </span>
                        </div>
                    </div>
                    <div class="quiz-card-body">
                        <div class="quiz-actions">
                            <button class="btn btn-primary" onclick="startQuiz('${quiz.id}')">
                                <i class="fas fa-play"></i>
                                Start Quiz
                            </button>
                            <button class="btn btn-secondary" onclick="previewQuiz('${quiz.id}')">
                                <i class="fas fa-eye"></i>
                                Preview
                            </button>
                        </div>
                    </div>
                `;
                
                quizGrid.appendChild(quizCard);
            });
        }

        function loadRecentActivity() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            const quizzes = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]');
            
            const studentResults = results.filter(r => r.studentEmail === currentUser.email)
                .sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt))
                .slice(0, 5);
            
            const activityList = document.getElementById('activityList');
            activityList.innerHTML = '';
            
            if (studentResults.length === 0) {
                activityList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-history"></i>
                        <p>No recent activity</p>
                        <small>Start your first quiz to see your progress here!</small>
                    </div>
                `;
                return;
            }
            
            studentResults.forEach(result => {
                const quiz = quizzes.find(q => q.id === result.quizId);
                const quizTitle = quiz ? quiz.title : 'Unknown Quiz';
                const iconClass = result.score >= 80 ? 'success' : result.score >= 60 ? 'warning' : 'info';
                const icon = result.score >= 80 ? 'fa-trophy' : result.score >= 60 ? 'fa-star' : 'fa-clipboard-check';
                
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="activity-icon ${iconClass}">
                        <i class="fas ${icon}"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-text">
                            Completed "${quizTitle}" with ${result.score}% score
                        </div>
                        <div class="activity-time">
                            ${formatTimeAgo(result.completedAt)}
                        </div>
                    </div>
                `;
                activityList.appendChild(activityItem);
            });
        }

        function formatTimeAgo(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return 'Just now';
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;
            return `${Math.floor(diffInSeconds / 86400)} days ago`;
        }

        function startQuiz(quizId) {
            window.location.href = `quiz-interface.html?quiz=${quizId}`;
        }

        function previewQuiz(quizId) {
            // Show quiz preview modal or navigate to preview page
            const quiz = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]').find(q => q.id === quizId);
            if (quiz) {
                alert(`Quiz Preview:\n\nTitle: ${quiz.title}\nDescription: ${quiz.description}\nQuestions: ${quiz.questions?.length || 0}\nDifficulty: ${quiz.difficulty || 'Easy'}\n\nClick "Start Quiz" to begin!`);
            }
        }

        function refreshQuizzes() {
            // Show loading state
            const quizGrid = document.getElementById('quizGrid');
            quizGrid.innerHTML = '<div class="loading"></div>';
            
            // Simulate refresh delay
            setTimeout(() => {
                loadAvailableQuizzes();
                loadRecentActivity();
                
                // Show success message
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: var(--success-500);
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    z-index: 9999;
                    font-size: 14px;
                    font-weight: 500;
                    box-shadow: var(--shadow-lg);
                `;
                notification.innerHTML = '<i class="fas fa-check"></i> Quizzes refreshed!';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 3000);
            }, 1000);
        }

        function switchToTeacher() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            currentUser.role = 'teacher';
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            window.location.href = 'teacher-dashboard.html';
        }

        function toggleProfile() {
            // Simple profile toggle - could be expanded to show profile modal
            const options = ['Edit Profile', 'View Progress', 'Settings', 'Logout'];
            const choice = prompt('Profile Options:\n1. Edit Profile\n2. View Progress\n3. Settings\n4. Logout\n\nEnter your choice (1-4):');
            
            switch(choice) {
                case '1':
                    alert('Profile editing coming soon!');
                    break;
                case '2':
                    alert('Progress view coming soon!');
                    break;
                case '3':
                    alert('Settings coming soon!');
                    break;
                case '4':
                    logout();
                    break;
            }
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('currentUser');
                window.location.href = 'https://ahmadadeltub.github.io/gesturequiz-platform/index.html';
            }
        }
    </script>
</body>
</html>
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary-600);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .user-details {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .user-name {
            font-weight: 600;
            color: var(--neutral-900);
            font-size: 0.95rem;
        }

        .user-role {
            font-size: 0.85rem;
            color: var(--neutral-600);
            background: var(--success-50);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            margin-top: var(--space-1);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: linear-gradient(135deg, var(--success-500), var(--success-600));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .btn {
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-lg);
            border: none;
            cursor: pointer;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-base);
            font-size: 0.9rem;
        }

        .btn-outline {
            background: transparent;
            color: var(--neutral-600);
            border: 1px solid var(--neutral-300);
        }

        .btn-outline:hover {
            background: var(--neutral-50);
            color: var(--neutral-800);
            transform: translateY(-1px);
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
        }

        /* Welcome Section */
        .welcome-section {
            text-align: center;
            margin-bottom: var(--space-12);
        }

        .welcome-title {
            font-size: 3rem;
            font-weight: 800;
            color: var(--neutral-900);
            margin-bottom: var(--space-4);
            background: linear-gradient(135deg, var(--success-500), var(--accent-500));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .welcome-subtitle {
            font-size: 1.25rem;
            color: var(--neutral-600);
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Stats Section */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-12);
        }

        .stat-card {
            background: white;
            padding: var(--space-8);
            border-radius: var(--radius-3xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--neutral-200);
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-2xl);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--success-500), var(--accent-500));
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-6);
        }

        .stat-icon {
            width: 64px;
            height: 64px;
            border-radius: var(--radius-2xl);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            background: linear-gradient(135deg, var(--success-500), var(--success-600));
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--neutral-900);
            margin-bottom: var(--space-2);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--neutral-600);
            font-weight: 500;
            margin-bottom: var(--space-3);
        }

        .stat-progress {
            background: var(--neutral-200);
            height: 8px;
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: var(--space-3);
        }

        .stat-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-500), var(--success-600));
            transition: width 0.8s ease;
        }

        .stat-description {
            font-size: 0.9rem;
            color: var(--neutral-500);
        }

        /* Available Quizzes Section */
        .quizzes-section {
            margin-bottom: var(--space-12);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-8);
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--neutral-900);
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .quiz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: var(--space-6);
        }

        .quiz-card {
            background: white;
            border-radius: var(--radius-2xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--neutral-200);
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .quiz-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .quiz-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-600), var(--accent-500));
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-4);
        }

        .quiz-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--neutral-900);
            margin-bottom: var(--space-2);
        }

        .quiz-difficulty {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .difficulty-easy {
            background: var(--success-50);
            color: var(--success-600);
        }

        .difficulty-medium {
            background: var(--warning-50);
            color: var(--warning-500);
        }

        .difficulty-hard {
            background: var(--danger-50);
            color: var(--danger-500);
        }

        .quiz-meta {
            display: flex;
            gap: var(--space-4);
            margin-bottom: var(--space-4);
            color: var(--neutral-500);
            font-size: 0.9rem;
        }

        .quiz-description {
            color: var(--neutral-600);
            line-height: 1.6;
            margin-bottom: var(--space-6);
        }

        .quiz-actions {
            display: flex;
            gap: var(--space-3);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
            color: white;
            flex: 1;
            justify-content: center;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--neutral-100);
            color: var(--neutral-600);
            border: 1px solid var(--neutral-300);
        }

        .btn-secondary:hover {
            background: var(--neutral-200);
            color: var(--neutral-800);
        }

        /* Recent Activity Section */
        .activity-section {
            background: white;
            padding: var(--space-8);
            border-radius: var(--radius-3xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--neutral-200);
        }

        .activity-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--neutral-900);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: var(--space-4);
            border-radius: var(--radius-xl);
            background: var(--neutral-50);
            transition: all var(--transition-base);
        }

        .activity-item:hover {
            background: var(--neutral-100);
            transform: translateX(4px);
        }

        .activity-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: var(--space-4);
        }

        .activity-icon.success {
            background: var(--success-50);
            color: var(--success-600);
        }

        .activity-icon.warning {
            background: var(--warning-50);
            color: var(--warning-500);
        }

        .activity-icon.info {
            background: var(--primary-50);
            color: var(--primary-600);
        }

        .activity-content {
            flex: 1;
        }

        .activity-text {
            font-weight: 500;
            color: var(--neutral-900);
            margin-bottom: var(--space-1);
        }

        .activity-time {
            font-size: 0.9rem;
            color: var(--neutral-500);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                padding: var(--space-4);
            }

            .welcome-title {
                font-size: 2.5rem;
            }

            .stats-section {
                grid-template-columns: 1fr;
            }

            .quiz-grid {
                grid-template-columns: 1fr;
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-4);
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <i class="fas fa-hand-paper"></i>
                GestureQuiz
            </a>
            <div class="user-info">
                <div class="user-details">
                    <div class="user-name" id="userName">Student</div>
                    <div class="user-role">
                        <i class="fas fa-user-graduate"></i>
                        Learner
                    </div>
                </div>
                <div class="user-avatar" id="userAvatar">
                    👨‍🎓
                </div>
                <button class="btn btn-outline" onclick="switchToTeacher()">
                    <i class="fas fa-chalkboard-teacher"></i>
                    Teacher View
                </button>
                <button class="btn btn-outline" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="welcome-section">
            <h1 class="welcome-title" id="welcomeText">Welcome to Your Learning Journey</h1>
            <p class="welcome-subtitle">
                Discover engaging quizzes, track your progress, and master new skills through interactive gesture-based learning.
            </p>
        </div>

        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon">
                        <i class="fas fa-clipboard-check"></i>
                    </div>
                </div>
                <div class="stat-number" id="completedQuizzes">0</div>
                <div class="stat-label">Quizzes Completed</div>
                <div class="stat-progress">
                    <div class="stat-progress-fill" id="completedProgress" style="width: 0%"></div>
                </div>
                <div class="stat-description">Keep up the great work!</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
                <div class="stat-number" id="averageScore">0%</div>
                <div class="stat-label">Average Score</div>
                <div class="stat-progress">
                    <div class="stat-progress-fill" id="scoreProgress" style="width: 0%"></div>
                </div>
                <div class="stat-description">Your performance is improving!</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                </div>
                <div class="stat-number" id="currentStreak">0</div>
                <div class="stat-label">Day Streak</div>
                <div class="stat-progress">
                    <div class="stat-progress-fill" id="streakProgress" style="width: 0%"></div>
                </div>
                <div class="stat-description">Build your learning habit!</div>
            </div>
        </div>

        <div class="quizzes-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-play-circle"></i>
                    Available Quizzes
                </h2>
                <button class="btn btn-outline" onclick="refreshQuizzes()">
                    <i class="fas fa-sync"></i>
                    Refresh
                </button>
            </div>
            <div class="quiz-grid" id="quizGrid">
                <!-- Dynamic quiz cards will be inserted here -->
            </div>
        </div>

        <div class="activity-section">
            <h3 class="activity-title">
                <i class="fas fa-history"></i>
                Recent Activity
            </h3>
            <div class="activity-list" id="activityList">
                <!-- Dynamic activity items will be inserted here -->
            </div>
        </div>
    </main>

    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            
            // Set up user info
            if (currentUser.name) {
                document.getElementById('welcomeText').textContent = `Welcome back, ${currentUser.name}!`;
                document.getElementById('userName').textContent = currentUser.name;
                
                // Update user avatar with initials
                const initials = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
                document.getElementById('userAvatar').textContent = initials;
            }
            
            // Load dashboard data
            loadStudentStats();
            loadAvailableQuizzes();
            loadRecentActivity();
            
            // Set up auto-refresh
            setInterval(function() {
                loadStudentStats();
                loadAvailableQuizzes();
                loadRecentActivity();
            }, 60000); // Refresh every minute
        });

        function loadStudentStats() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            
            // Filter results for current student
            const studentResults = results.filter(r => r.studentEmail === currentUser.email);
            
            // Calculate stats
            const completedQuizzes = studentResults.length;
            const averageScore = studentResults.length > 0 
                ? Math.round(studentResults.reduce((sum, r) => sum + r.score, 0) / studentResults.length)
                : 0;
            
            // Calculate streak (simplified - consecutive days with quiz activity)
            const currentStreak = calculateStreak(studentResults);
            
            // Update UI with animation
            animateCounter('completedQuizzes', completedQuizzes);
            animateCounter('averageScore', averageScore, '%');
            animateCounter('currentStreak', currentStreak);
            
            // Update progress bars
            document.getElementById('completedProgress').style.width = Math.min(completedQuizzes * 10, 100) + '%';
            document.getElementById('scoreProgress').style.width = averageScore + '%';
            document.getElementById('streakProgress').style.width = Math.min(currentStreak * 10, 100) + '%';
        }

        function calculateStreak(results) {
            if (results.length === 0) return 0;
            
            const today = new Date();
            const sortedResults = results.sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt));
            
            let streak = 0;
            let checkDate = new Date(today);
            
            for (let i = 0; i < 30; i++) { // Check last 30 days
                const dayResults = sortedResults.filter(r => {
                    const resultDate = new Date(r.completedAt);
                    return resultDate.toDateString() === checkDate.toDateString();
                });
                
                if (dayResults.length > 0) {
                    streak++;
                } else if (streak > 0) {
                    break;
                }
                
                checkDate.setDate(checkDate.getDate() - 1);
            }
            
            return streak;
        }

        function animateCounter(elementId, targetValue, suffix = '') {
            const element = document.getElementById(elementId);
            const currentValue = parseInt(element.textContent) || 0;
            const increment = Math.ceil(Math.abs(targetValue - currentValue) / 20);
            
            if (currentValue === targetValue) return;
            
            const timer = setInterval(() => {
                let newValue;
                if (currentValue < targetValue) {
                    newValue = Math.min(currentValue + increment, targetValue);
                } else {
                    newValue = Math.max(currentValue - increment, targetValue);
                }
                
                element.textContent = newValue + suffix;
                
                if (newValue === targetValue) {
                    clearInterval(timer);
                }
            }, 50);
        }

        function loadAvailableQuizzes() {
            const quizzes = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]');
            const publishedQuizzes = quizzes.filter(q => q.status === 'published');
            
            const quizGrid = document.getElementById('quizGrid');
            quizGrid.innerHTML = '';
            
            if (publishedQuizzes.length === 0) {
                quizGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--neutral-500);">
                        <i class="fas fa-clipboard-question" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
                        <h3 style="margin-bottom: 1rem;">No quizzes available yet</h3>
                        <p>Check back soon for new learning opportunities!</p>
                    </div>
                `;
                return;
            }
            
            publishedQuizzes.forEach(quiz => {
                const difficulty = quiz.difficulty || 'medium';
                const questionCount = quiz.questions?.length || 0;
                
                const quizCard = document.createElement('div');
                quizCard.className = 'quiz-card';
                quizCard.innerHTML = `
                    <div class="quiz-header">
                        <div>
                            <h3 class="quiz-title">${quiz.title}</h3>
                            <div class="quiz-meta">
                                <span><i class="fas fa-question-circle"></i> ${questionCount} questions</span>
                                <span><i class="fas fa-clock"></i> ~${Math.ceil(questionCount * 1.5)} min</span>
                            </div>
                        </div>
                        <span class="quiz-difficulty difficulty-${difficulty}">${difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}</span>
                    </div>
                    <p class="quiz-description">
                        ${quiz.description || 'Test your knowledge with this engaging gesture-based quiz.'}
                    </p>
                    <div class="quiz-actions">
                        <button class="btn btn-primary" onclick="startQuiz('${quiz.id}')">
                            <i class="fas fa-play"></i>
                            Start Quiz
                        </button>
                        <button class="btn btn-secondary" onclick="previewQuiz('${quiz.id}')">
                            <i class="fas fa-eye"></i>
                            Preview
                        </button>
                    </div>
                `;
                quizGrid.appendChild(quizCard);
            });
        }

        function loadRecentActivity() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            const quizzes = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]');
            
            const studentResults = results.filter(r => r.studentEmail === currentUser.email)
                .sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt))
                .slice(0, 5);
            
            const activityList = document.getElementById('activityList');
            activityList.innerHTML = '';
            
            if (studentResults.length === 0) {
                activityList.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--neutral-500);">
                        <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>
                        <p>No recent activity. Start your first quiz to see your progress here!</p>
                    </div>
                `;
                return;
            }
            
            studentResults.forEach(result => {
                const quiz = quizzes.find(q => q.id === result.quizId);
                const quizTitle = quiz ? quiz.title : 'Unknown Quiz';
                const iconClass = result.score >= 80 ? 'success' : result.score >= 60 ? 'warning' : 'info';
                const icon = result.score >= 80 ? 'fa-trophy' : result.score >= 60 ? 'fa-star' : 'fa-clipboard-check';
                
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="activity-icon ${iconClass}">
                        <i class="fas ${icon}"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-text">
                            Completed "${quizTitle}" with ${result.score}% score
                        </div>
                        <div class="activity-time">
                            ${formatTimeAgo(result.completedAt)}
                        </div>
                    </div>
                `;
                activityList.appendChild(activityItem);
            });
        }

        function formatTimeAgo(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return 'Just now';
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;
            return `${Math.floor(diffInSeconds / 86400)} days ago`;
        }

        function startQuiz(quizId) {
            window.location.href = `quiz-interface.html?quiz=${quizId}`;
        }

        function previewQuiz(quizId) {
            // For now, just start the quiz - could implement a preview mode later
            startQuiz(quizId);
        }

        function refreshQuizzes() {
            loadAvailableQuizzes();
            loadRecentActivity();
        }

        function switchToTeacher() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            currentUser.role = 'teacher';
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            window.location.href = 'teacher-dashboard.html';
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('currentUser');
                window.location.href = 'https://ahmadadeltub.github.io/gesturequiz-platform/index.html';
            }
        }

        // Set up sample data for demo
        if (!localStorage.getItem('currentUser')) {
            const demoUser = {
                email: 'student@demo.com',
                name: 'Demo Student',
                role: 'student'
            };
            localStorage.setItem('currentUser', JSON.stringify(demoUser));
        }
    </script>
</body>
</html>

        .header {
            background: white;
            border-bottom: 1px solid var(--neutral-200);
            padding: var(--space-4) 0;
            box-shadow: var(--shadow-lg);
        }

        .header-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--neutral-900);
        }

        .logo-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-600), var(--accent-500));
            border-radius: var(--radius-xl);
            color: white;
            font-size: 1.2rem;
        }

        .auth-info {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .student-badge {
            background: linear-gradient(135deg, var(--success-500), var(--success-600));
            color: white;
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-xl);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border: none;
            border-radius: var(--radius-xl);
            font-family: inherit;
            font-weight: 600;
            font-size: 0.95rem;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-base);
            white-space: nowrap;
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-600);
            border: 2px solid var(--neutral-200);
        }

        .btn-outline:hover {
            background: var(--primary-600);
            color: white;
            border-color: var(--primary-600);
        }

        .main-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
        }

        .welcome-section {
            text-align: center;
            margin-bottom: var(--space-12);
        }

        .welcome-section h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--neutral-900);
            margin-bottom: var(--space-4);
        }

        .welcome-section p {
            font-size: 1.2rem;
            color: var(--neutral-600);
            margin-bottom: var(--space-8);
        }

        .setup-notice {
            background: linear-gradient(135deg, var(--success-500), var(--success-600));
            color: white;
            padding: var(--space-6);
            border-radius: var(--radius-2xl);
            text-align: center;
            margin-bottom: var(--space-8);
        }

        .setup-notice h2 {
            margin-bottom: var(--space-2);
        }

        .setup-notice p {
            opacity: 0.9;
        }

        .demo-navigation {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .btn-demo {
            background: linear-gradient(135deg, var(--success-500), var(--success-600));
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .btn-demo:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        @media (max-width: 768px) {
            .welcome-section h1 {
                font-size: 2rem;
            }
            
            .demo-navigation {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-hand-paper"></i>
                </div>
                <span>GestureQuiz</span>
            </div>
            
            <div class="auth-info">
                <div class="student-badge">
                    <i class="fas fa-user-graduate"></i>
                    Student Account
                </div>
                <button class="btn btn-outline" onclick="goHome()">
                    <i class="fas fa-home"></i>
                    Home
                </button>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="welcome-section">
            <h1 id="welcomeText">🎓 Welcome to Your Student Dashboard!</h1>
            <p>Take quizzes, track your progress, and learn with gesture-based interactions.</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-number">8</span>
                <span class="stat-label">Quizzes Taken</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">92%</span>
                <span class="stat-label">Average Score</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">15</span>
                <span class="stat-label">Hours Studied</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">5</span>
                <span class="stat-label">Achievements</span>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-play"></i>
                    </div>
                    <h3 class="card-title">Take Quiz</h3>
                </div>
                <p class="card-description">
                    Start a new quiz and answer questions using hand gestures for an interactive experience.
                </p>
                <button class="btn btn-primary" onclick="takeQuiz()">
                    <i class="fas fa-play"></i>
                    Start Quiz
                </button>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h3 class="card-title">Quiz History</h3>
                </div>
                <p class="card-description">
                    View your past quiz attempts, scores, and detailed performance breakdown.
                </p>
                <button class="btn btn-primary" onclick="viewHistory()">
                    <i class="fas fa-list"></i>
                    View History
                </button>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="card-title">Progress</h3>
                </div>
                <p class="card-description">
                    Track your learning progress, see improvement trends, and identify areas for growth.
                </p>
                <button class="btn btn-primary" onclick="viewProgress()">
                    <i class="fas fa-chart-bar"></i>
                    View Progress
                </button>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3 class="card-title">Achievements</h3>
                </div>
                <p class="card-description">
                    View your earned badges, certificates, and milestones in your learning journey.
                </p>
                <button class="btn btn-primary" onclick="viewAchievements()">
                    <i class="fas fa-medal"></i>
                    View Achievements
                </button>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-hand-paper"></i>
                    </div>
                    <h3 class="card-title">Gesture Practice</h3>
                </div>
                <p class="card-description">
                    Practice hand gestures and calibrate the system for better recognition accuracy.
                </p>
                <button class="btn btn-primary" onclick="practiceGestures()">
                    <i class="fas fa-hand-rock"></i>
                    Practice
                </button>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 class="card-title">Profile</h3>
                </div>
                <p class="card-description">
                    Update your profile information, change settings, and manage your account.
                </p>
                <button class="btn btn-primary" onclick="editProfile()">
                    <i class="fas fa-edit"></i>
                    Edit Profile
                </button>
            </div>
        </div>

        <div class="demo-navigation">
            <button class="btn btn-outline" onclick="goToTeacherView()">
                <i class="fas fa-chalkboard-teacher"></i>
                Switch to Teacher View
            </button>
            
            <button class="btn btn-outline" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                Logout
            </button>
        </div>
    </main>

    <script>
        // Load user data on page load
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            if (currentUser.name) {
                document.getElementById('welcomeText').textContent = `🎓 Welcome back, ${currentUser.name}!`;
            }
            
            // Check if user is logged in
            if (!currentUser.email) {
                window.location.href = '../index.html';
            }
        });

        function takeQuiz() {
            window.location.href = 'quiz-interface.html';
        }

        function viewHistory() {
            window.location.href = 'quiz-history.html';
        }

        function viewProgress() {
            window.location.href = 'progress.html';
        }

        function viewAchievements() {
            window.location.href = 'achievements.html';
        }

        function practiceGestures() {
            window.location.href = 'gesture-practice.html';
        }

        function editProfile() {
            window.location.href = 'profile.html';
        }

        function goToTeacherView() {
            // Update current user role temporarily for testing
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            currentUser.role = 'teacher';
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            window.location.href = 'teacher-dashboard.html';
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('currentUser');
                window.location.href = 'https://ahmadadeltub.github.io/gesturequiz-platform/index.html';
            }
        }

        function goHome() {
            window.location.href = 'https://ahmadadeltub.github.io/gesturequiz-platform/index.html';
        }
    </script>
</body>
</html>
