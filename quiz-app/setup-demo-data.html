<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup Demo Data - GestureQuiz</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #0284c7;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #0284c7;
        }
        
        .section h3 {
            color: #1f2937;
            margin-bottom: 15px;
        }
        
        .btn {
            background: #0284c7;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #0369a1;
        }
        
        .btn-success {
            background: #22c55e;
        }
        
        .btn-success:hover {
            background: #16a34a;
        }
        
        .btn-danger {
            background: #ef4444;
        }
        
        .btn-danger:hover {
            background: #dc2626;
        }
        
        .status {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        
        .status.success {
            background: #f0fdf4;
            color: #16a34a;
            border: 1px solid #22c55e;
        }
        
        .status.error {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #ef4444;
        }
        
        .status.info {
            background: #f0f9ff;
            color: #0284c7;
            border: 1px solid #0284c7;
        }
        
        .accounts-list {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .account-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }
        
        .account-item h4 {
            margin: 0 0 10px 0;
            color: #1f2937;
        }
        
        .account-item p {
            margin: 5px 0;
            color: #6b7280;
        }
        
        .quiz-preview {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #0284c7;
        }
        
        .quiz-preview h4 {
            margin: 0 0 10px 0;
            color: #1f2937;
        }
        
        .quiz-preview p {
            margin: 5px 0;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéì GestureQuiz Demo Data Setup</h1>
        
        <div class="section">
            <h3>üë• Test User Accounts</h3>
            <p>Set up demo accounts for testing the platform:</p>
            <button class="btn btn-success" onclick="createTestUsers()">Create Test Users</button>
            <button class="btn" onclick="showTestAccounts()">Show Test Accounts</button>
            <div id="testAccountsStatus"></div>
        </div>
        
        <div class="section">
            <h3>üìö Sample Quizzes</h3>
            <p>Create sample quizzes for students to practice:</p>
            <button class="btn btn-success" onclick="createSampleQuizzes()">Create Sample Quizzes</button>
            <button class="btn" onclick="showQuizzes()">Show Created Quizzes</button>
            <div id="sampleQuizzesStatus"></div>
        </div>
        
        <div class="section">
            <h3>üìä Demo Quiz Results</h3>
            <p>Generate sample quiz results for analytics:</p>
            <button class="btn btn-success" onclick="createDemoResults()">Create Demo Results</button>
            <button class="btn" onclick="showResults()">Show Results</button>
            <div id="demoResultsStatus"></div>
        </div>
        
        <div class="section">
            <h3>üßπ Reset Data</h3>
            <p>Clear all data and start fresh:</p>
            <button class="btn btn-danger" onclick="clearAllData()">Clear All Data</button>
            <button class="btn" onclick="setupCompleteDemo()">Setup Complete Demo</button>
            <div id="resetStatus"></div>
        </div>
        
        <div class="section">
            <h3>üöÄ Quick Access</h3>
            <p>Navigate to different parts of the platform:</p>
            <button class="btn" onclick="window.open('index.html', '_blank')">Login Page</button>
            <button class="btn" onclick="window.open('pages/student-dashboard.html', '_blank')">Student Dashboard</button>
            <button class="btn" onclick="window.open('pages/teacher-dashboard.html', '_blank')">Teacher Dashboard</button>
            <button class="btn" onclick="window.open('pages/quiz-interface.html', '_blank')">Quiz Interface</button>
        </div>
    </div>

    <script>
        function createTestUsers() {
            const users = [
                {
                    email: 'teacher@demo.com',
                    password: 'teacher123',
                    name: 'Demo Teacher',
                    role: 'teacher'
                },
                {
                    email: 'student1@demo.com',
                    password: 'student123',
                    name: 'Alice Johnson',
                    role: 'student'
                },
                {
                    email: 'student2@demo.com',
                    password: 'student123',
                    name: 'Bob Smith',
                    role: 'student'
                },
                {
                    email: 'student3@demo.com',
                    password: 'student123',
                    name: 'Carol Davis',
                    role: 'student'
                }
            ];
            
            localStorage.setItem('gestureQuizUsers', JSON.stringify(users));
            
            document.getElementById('testAccountsStatus').innerHTML = `
                <div class="status success">
                    ‚úÖ Test users created successfully!
                    <div class="accounts-list">
                        <div class="account-item">
                            <h4>Teacher Account</h4>
                            <p>Email: teacher@demo.com</p>
                            <p>Password: teacher123</p>
                            <p>Name: Demo Teacher</p>
                        </div>
                        <div class="account-item">
                            <h4>Student Accounts</h4>
                            <p>Email: student1@demo.com | Password: student123 | Name: Alice Johnson</p>
                            <p>Email: student2@demo.com | Password: student123 | Name: Bob Smith</p>
                            <p>Email: student3@demo.com | Password: student123 | Name: Carol Davis</p>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function showTestAccounts() {
            const users = JSON.parse(localStorage.getItem('gestureQuizUsers') || '[]');
            
            if (users.length === 0) {
                document.getElementById('testAccountsStatus').innerHTML = `
                    <div class="status info">‚ÑπÔ∏è No test accounts found. Create them first!</div>
                `;
                return;
            }
            
            const accountsHtml = users.map(user => `
                <div class="account-item">
                    <h4>${user.name} (${user.role})</h4>
                    <p>Email: ${user.email}</p>
                    <p>Password: ${user.password}</p>
                </div>
            `).join('');
            
            document.getElementById('testAccountsStatus').innerHTML = `
                <div class="status info">
                    üìã Current test accounts:
                    <div class="accounts-list">
                        ${accountsHtml}
                    </div>
                </div>
            `;
        }
        
        function createSampleQuizzes() {
            const sampleQuizzes = [
                {
                    id: 'demo-1',
                    title: 'Computer Basics',
                    description: 'Test your knowledge of basic computer concepts',
                    difficulty: 'Easy',
                    subject: 'Computer Science',
                    status: 'published',
                    published: true,
                    createdBy: 'teacher@demo.com',
                    createdAt: new Date().toISOString(),
                    questions: [
                        {
                            id: 'q1',
                            text: 'What does CPU stand for?',
                            options: ['Central Processing Unit', 'Computer Processing Unit', 'Central Program Unit', 'Computer Program Unit'],
                            correctAnswer: 0
                        },
                        {
                            id: 'q2',
                            text: 'Which of these is a programming language?',
                            options: ['HTML', 'CSS', 'JavaScript', 'All of the above'],
                            correctAnswer: 3
                        },
                        {
                            id: 'q3',
                            text: 'What is the main function of RAM?',
                            options: ['Store data permanently', 'Process data', 'Store data temporarily', 'Display data'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q4',
                            text: 'What does WWW stand for?',
                            options: ['World Wide Web', 'World Web Wide', 'Wide World Web', 'Web World Wide'],
                            correctAnswer: 0
                        },
                        {
                            id: 'q5',
                            text: 'Which company created the Windows operating system?',
                            options: ['Apple', 'Google', 'Microsoft', 'IBM'],
                            correctAnswer: 2
                        }
                    ]
                },
                {
                    id: 'demo-2',
                    title: 'Mathematics Quiz',
                    description: 'Test your mathematical skills with these problems',
                    difficulty: 'Medium',
                    subject: 'Mathematics',
                    status: 'published',
                    published: true,
                    createdBy: 'teacher@demo.com',
                    createdAt: new Date().toISOString(),
                    questions: [
                        {
                            id: 'q1',
                            text: 'What is 15 + 27?',
                            options: ['40', '41', '42', '43'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q2',
                            text: 'What is the square root of 64?',
                            options: ['6', '7', '8', '9'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q3',
                            text: 'What is 12 √ó 8?',
                            options: ['94', '95', '96', '97'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q4',
                            text: 'What is 144 √∑ 12?',
                            options: ['11', '12', '13', '14'],
                            correctAnswer: 1
                        },
                        {
                            id: 'q5',
                            text: 'What is 25% of 200?',
                            options: ['40', '45', '50', '55'],
                            correctAnswer: 2
                        }
                    ]
                },
                {
                    id: 'demo-3',
                    title: 'Science Knowledge',
                    description: 'General science questions covering various topics',
                    difficulty: 'Easy',
                    subject: 'Science',
                    status: 'published',
                    published: true,
                    createdBy: 'teacher@demo.com',
                    createdAt: new Date().toISOString(),
                    questions: [
                        {
                            id: 'q1',
                            text: 'What is the chemical symbol for water?',
                            options: ['H2O', 'CO2', 'O2', 'NaCl'],
                            correctAnswer: 0
                        },
                        {
                            id: 'q2',
                            text: 'How many bones are in the human body?',
                            options: ['206', '207', '208', '209'],
                            correctAnswer: 0
                        },
                        {
                            id: 'q3',
                            text: 'What planet is closest to the sun?',
                            options: ['Venus', 'Earth', 'Mercury', 'Mars'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q4',
                            text: 'What gas do plants absorb from the atmosphere?',
                            options: ['Oxygen', 'Carbon Dioxide', 'Nitrogen', 'Hydrogen'],
                            correctAnswer: 1
                        },
                        {
                            id: 'q5',
                            text: 'What is the hardest natural substance on Earth?',
                            options: ['Gold', 'Iron', 'Diamond', 'Silver'],
                            correctAnswer: 2
                        }
                    ]
                },
                {
                    id: 'demo-4',
                    title: 'History Challenge',
                    description: 'Test your knowledge of historical events and figures',
                    difficulty: 'Medium',
                    subject: 'History',
                    status: 'published',
                    published: true,
                    createdBy: 'teacher@demo.com',
                    createdAt: new Date().toISOString(),
                    questions: [
                        {
                            id: 'q1',
                            text: 'Who was the first President of the United States?',
                            options: ['Thomas Jefferson', 'George Washington', 'John Adams', 'Benjamin Franklin'],
                            correctAnswer: 1
                        },
                        {
                            id: 'q2',
                            text: 'In which year did World War II end?',
                            options: ['1944', '1945', '1946', '1947'],
                            correctAnswer: 1
                        },
                        {
                            id: 'q3',
                            text: 'Which ancient wonder of the world was located in Egypt?',
                            options: ['Hanging Gardens', 'Colossus of Rhodes', 'Pyramids of Giza', 'Lighthouse of Alexandria'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q4',
                            text: 'Who painted the Mona Lisa?',
                            options: ['Vincent van Gogh', 'Pablo Picasso', 'Leonardo da Vinci', 'Michelangelo'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q5',
                            text: 'Which empire was ruled by Julius Caesar?',
                            options: ['Greek Empire', 'Roman Empire', 'Byzantine Empire', 'Ottoman Empire'],
                            correctAnswer: 1
                        }
                    ]
                },
                {
                    id: 'demo-5',
                    title: 'Geography Quiz',
                    description: 'Test your knowledge of world geography',
                    difficulty: 'Easy',
                    subject: 'Geography',
                    status: 'published',
                    published: true,
                    createdBy: 'teacher@demo.com',
                    createdAt: new Date().toISOString(),
                    questions: [
                        {
                            id: 'q1',
                            text: 'What is the capital of France?',
                            options: ['London', 'Berlin', 'Paris', 'Madrid'],
                            correctAnswer: 2
                        },
                        {
                            id: 'q2',
                            text: 'Which is the largest ocean?',
                            options: ['Atlantic Ocean', 'Indian Ocean', 'Arctic Ocean', 'Pacific Ocean'],
                            correctAnswer: 3
                        },
                        {
                            id: 'q3',
                            text: 'What is the highest mountain in the world?',
                            options: ['K2', 'Mount Everest', 'Kangchenjunga', 'Lhotse'],
                            correctAnswer: 1
                        },
                        {
                            id: 'q4',
                            text: 'Which continent is known as the "Dark Continent"?',
                            options: ['Asia', 'Africa', 'South America', 'Australia'],
                            correctAnswer: 1
                        },
                        {
                            id: 'q5',
                            text: 'What is the longest river in the world?',
                            options: ['Amazon River', 'Nile River', 'Mississippi River', 'Yangtze River'],
                            correctAnswer: 1
                        }
                    ]
                }
            ];
            
            localStorage.setItem('gestureQuizzes', JSON.stringify(sampleQuizzes));
            
            const quizPreview = sampleQuizzes.map(quiz => `
                <div class="quiz-preview">
                    <h4>${quiz.title}</h4>
                    <p><strong>Subject:</strong> ${quiz.subject}</p>
                    <p><strong>Difficulty:</strong> ${quiz.difficulty}</p>
                    <p><strong>Questions:</strong> ${quiz.questions.length}</p>
                    <p><strong>Description:</strong> ${quiz.description}</p>
                </div>
            `).join('');
            
            document.getElementById('sampleQuizzesStatus').innerHTML = `
                <div class="status success">
                    ‚úÖ Sample quizzes created successfully!
                    <div style="max-height: 400px; overflow-y: auto; margin-top: 15px;">
                        ${quizPreview}
                    </div>
                </div>
            `;
        }
        
        function showQuizzes() {
            const quizzes = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]');
            
            if (quizzes.length === 0) {
                document.getElementById('sampleQuizzesStatus').innerHTML = `
                    <div class="status info">‚ÑπÔ∏è No quizzes found. Create sample quizzes first!</div>
                `;
                return;
            }
            
            const quizList = quizzes.map(quiz => `
                <div class="quiz-preview">
                    <h4>${quiz.title}</h4>
                    <p><strong>ID:</strong> ${quiz.id}</p>
                    <p><strong>Subject:</strong> ${quiz.subject}</p>
                    <p><strong>Difficulty:</strong> ${quiz.difficulty}</p>
                    <p><strong>Questions:</strong> ${quiz.questions.length}</p>
                    <p><strong>Status:</strong> ${quiz.status} ${quiz.published ? '(Published)' : '(Draft)'}</p>
                </div>
            `).join('');
            
            document.getElementById('sampleQuizzesStatus').innerHTML = `
                <div class="status info">
                    üìã Found ${quizzes.length} quiz(es):
                    <div style="max-height: 400px; overflow-y: auto; margin-top: 15px;">
                        ${quizList}
                    </div>
                </div>
            `;
        }
        
        function createDemoResults() {
            const quizzes = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]');
            const users = JSON.parse(localStorage.getItem('gestureQuizUsers') || '[]');
            
            if (quizzes.length === 0 || users.length === 0) {
                document.getElementById('demoResultsStatus').innerHTML = `
                    <div class="status error">‚ùå Please create test users and sample quizzes first!</div>
                `;
                return;
            }
            
            const students = users.filter(user => user.role === 'student');
            const results = [];
            
            // Generate results for each student and quiz
            students.forEach(student => {
                quizzes.forEach(quiz => {
                    // Generate 1-3 attempts per quiz per student
                    const attempts = Math.floor(Math.random() * 3) + 1;
                    
                    for (let i = 0; i < attempts; i++) {
                        const score = Math.floor(Math.random() * 40) + 60; // 60-100%
                        const completedAt = new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000); // Last 30 days
                        
                        results.push({
                            id: `result-${Date.now()}-${Math.random()}`,
                            quizId: quiz.id,
                            studentEmail: student.email,
                            studentName: student.name,
                            score: score,
                            totalQuestions: quiz.questions.length,
                            correctAnswers: Math.floor((score / 100) * quiz.questions.length),
                            completedAt: completedAt.toISOString(),
                            createdAt: completedAt.toISOString()
                        });
                    }
                });
            });
            
            localStorage.setItem('quizResults', JSON.stringify(results));
            
            document.getElementById('demoResultsStatus').innerHTML = `
                <div class="status success">
                    ‚úÖ Demo results created successfully!
                    <p><strong>Generated ${results.length} quiz results</strong></p>
                    <p>Students: ${students.length}</p>
                    <p>Quizzes: ${quizzes.length}</p>
                    <p>Results now available in analytics and student dashboards!</p>
                </div>
            `;
        }
        
        function showResults() {
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            
            if (results.length === 0) {
                document.getElementById('demoResultsStatus').innerHTML = `
                    <div class="status info">‚ÑπÔ∏è No quiz results found. Create demo results first!</div>
                `;
                return;
            }
            
            const resultsSummary = results.reduce((acc, result) => {
                if (!acc[result.studentEmail]) {
                    acc[result.studentEmail] = {
                        name: result.studentName,
                        totalAttempts: 0,
                        averageScore: 0,
                        totalScore: 0
                    };
                }
                acc[result.studentEmail].totalAttempts++;
                acc[result.studentEmail].totalScore += result.score;
                acc[result.studentEmail].averageScore = Math.round(acc[result.studentEmail].totalScore / acc[result.studentEmail].totalAttempts);
                return acc;
            }, {});
            
            const summaryHtml = Object.entries(resultsSummary).map(([email, data]) => `
                <div class="account-item">
                    <h4>${data.name}</h4>
                    <p>Email: ${email}</p>
                    <p>Total Attempts: ${data.totalAttempts}</p>
                    <p>Average Score: ${data.averageScore}%</p>
                </div>
            `).join('');
            
            document.getElementById('demoResultsStatus').innerHTML = `
                <div class="status info">
                    üìä Found ${results.length} quiz result(s):
                    <div class="accounts-list">
                        ${summaryHtml}
                    </div>
                </div>
            `;
        }
        
        function clearAllData() {
            if (confirm('Are you sure you want to clear all data? This action cannot be undone.')) {
                localStorage.removeItem('gestureQuizUsers');
                localStorage.removeItem('gestureQuizzes');
                localStorage.removeItem('quizResults');
                localStorage.removeItem('currentUser');
                
                document.getElementById('resetStatus').innerHTML = `
                    <div class="status success">‚úÖ All data cleared successfully!</div>
                `;
                
                // Clear other status displays
                document.getElementById('testAccountsStatus').innerHTML = '';
                document.getElementById('sampleQuizzesStatus').innerHTML = '';
                document.getElementById('demoResultsStatus').innerHTML = '';
            }
        }
        
        function setupCompleteDemo() {
            document.getElementById('resetStatus').innerHTML = `
                <div class="status info">üîÑ Setting up complete demo environment...</div>
            `;
            
            // Clear existing data first
            localStorage.removeItem('gestureQuizUsers');
            localStorage.removeItem('gestureQuizzes');
            localStorage.removeItem('quizResults');
            localStorage.removeItem('currentUser');
            
            // Create everything in sequence
            setTimeout(() => {
                createTestUsers();
                setTimeout(() => {
                    createSampleQuizzes();
                    setTimeout(() => {
                        createDemoResults();
                        document.getElementById('resetStatus').innerHTML = `
                            <div class="status success">
                                ‚úÖ Complete demo environment setup successfully!
                                <p>‚úì Test users created</p>
                                <p>‚úì Sample quizzes created</p>
                                <p>‚úì Demo results generated</p>
                                <p><strong>You can now use the platform with full demo data!</strong></p>
                            </div>
                        `;
                    }, 1000);
                }, 1000);
            }, 1000);
        }
        
        // Check current data status on page load
        window.addEventListener('load', function() {
            const users = JSON.parse(localStorage.getItem('gestureQuizUsers') || '[]');
            const quizzes = JSON.parse(localStorage.getItem('gestureQuizzes') || '[]');
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            
            if (users.length === 0 && quizzes.length === 0 && results.length === 0) {
                document.getElementById('resetStatus').innerHTML = `
                    <div class="status info">
                        ‚ÑπÔ∏è No demo data found. Click "Setup Complete Demo" to create a full demo environment.
                    </div>
                `;
            } else {
                document.getElementById('resetStatus').innerHTML = `
                    <div class="status success">
                        ‚úÖ Demo data detected:
                        <p>Users: ${users.length}</p>
                        <p>Quizzes: ${quizzes.length}</p>
                        <p>Results: ${results.length}</p>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
